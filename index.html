<!DOCTYPE html>
<html>
    <head><meta charset="utf-8"></head><head></head><body>
    <h2 id="question">Waiting for another player...</h2>
    <input id="answer" placeholder="Your answer">
    <button onclick="sendAnswer()">Send</button>
    <p id="status"></p>

    <script>
      const ws = new WebSocket("ws://localhost:8070");
      ws.onopen = () => ws.send(JSON.stringify({ type: "join" }));

      ws.onmessage = (msg) => {
        const data = JSON.parse(msg.data);
        if (data.type === "question" || data.type === "update") {
          document.getElementById("question").textContent = data.question;
          document.getElementById("status").textContent = data.hp
            ? `Enemy HP: ${data.hp}`
            : "";
        } else if (data.type === "result") {
          document.body.innerHTML = `<h1>${data.msg}</h1>`;
        }
      };

      function sendAnswer() {
        const val = document.getElementById("answer").value;
        ws.send(JSON.stringify({ type: "answer", answer: val }));
        document.getElementById("answer").value = "";
      }
    </script>
  

</body></html>